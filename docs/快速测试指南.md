# âš¡ å¿«é€Ÿæµ‹è¯•æŒ‡å—

## ğŸš€ 5åˆ†é’Ÿå¿«é€Ÿæµ‹è¯•

### æ–¹æ³•1ï¼šå‰ç«¯ç•Œé¢æµ‹è¯•ï¼ˆæœ€ç®€å•ï¼‰

1. **å¯åŠ¨å¼€å‘æœåŠ¡å™¨**
   ```bash
   npm run dev
   ```

2. **è®¿é—®å¸‚åœºè¯¦æƒ…é¡µé¢**
   ```
   http://localhost:3000/market/[marketId]
   ```

3. **æ£€æŸ¥æå–æŒ‰é’®**
   - å¸‚åœºè§£æååº”è¯¥çœ‹åˆ°"æå–å¥–åŠ±"åŒºåŸŸ
   - æ˜¾ç¤ºæŒä»“å’Œå¯æå–é‡‘é¢

4. **ç‚¹å‡»æå–**
   - ç‚¹å‡»"æå–å¥–åŠ±"æŒ‰é’®
   - ç¡®è®¤é’±åŒ…äº¤æ˜“
   - æ£€æŸ¥ USDC ä½™é¢å¢åŠ 

---

### æ–¹æ³•2ï¼šå‘½ä»¤è¡Œæµ‹è¯•ï¼ˆæ¨èï¼‰

1. **è®¾ç½®æµ‹è¯•è´¦æˆ·ç§é’¥**
   ```bash
   export TEST_PRIVATE_KEY=your_private_key_here
   ```

2. **è¿è¡Œæµ‹è¯•è„šæœ¬**
   ```bash
   npx tsx scripts/test-redeem.ts <conditionId> <outcomeIndex>
   ```
   
   ç¤ºä¾‹ï¼š
   ```bash
   npx tsx scripts/test-redeem.ts 0x123... 1
   ```

3. **æŸ¥çœ‹ç»“æœ**
   - è„šæœ¬ä¼šè‡ªåŠ¨æ£€æŸ¥æ‰€æœ‰æ¡ä»¶
   - æ˜¾ç¤ºæå–å‰åçš„ USDC ä½™é¢
   - éªŒè¯æå–é‡‘é¢æ˜¯å¦æ­£ç¡®

---

## ğŸ“‹ æµ‹è¯•å‰æ£€æŸ¥æ¸…å•

- [ ] å¸‚åœºå·²è§£æï¼ˆstatus === 'resolved'ï¼‰
- [ ] å¸‚åœºæœ‰ condition_id
- [ ] ç”¨æˆ·æœ‰æŒä»“ï¼ˆä¹°å…¥è¿‡ YES/NOï¼‰
- [ ] é’±åŒ…å·²è¿æ¥
- [ ] æœ‰è¶³å¤Ÿçš„ MATIC æ”¯ä»˜ Gas

---

## ğŸ” å¿«é€ŸéªŒè¯

### æ£€æŸ¥å¸‚åœºçŠ¶æ€

```typescript
// åœ¨æµè§ˆå™¨æ§åˆ¶å°è¿è¡Œ
const conditionId = '0x...'; // ä½ çš„ conditionId
const provider = new ethers.providers.Web3Provider(window.ethereum);
const ctf = new ethers.Contract(
  '0xb171BBc6b1476ee1b6aD4Ac2cA7ed4AfFdFa10a2',
  ['function isResolved(bytes32) view returns (bool)'],
  provider
);
const resolved = await ctf.isResolved(conditionId);
console.log('å¸‚åœºå·²è§£æ:', resolved);
```

### æ£€æŸ¥ç”¨æˆ·æŒä»“

```typescript
// åœ¨æµè§ˆå™¨æ§åˆ¶å°è¿è¡Œ
import { checkRedeemableBalance } from '@/lib/ctf/redeem';

const provider = new ethers.providers.Web3Provider(window.ethereum);
const signer = provider.getSigner();
const userAddress = await signer.getAddress();

const balance = await checkRedeemableBalance(
  provider,
  userAddress,
  conditionId,
  1 // YES
);
console.log('å¯èµå›ä½™é¢:', balance);
```

---

## âœ… æµ‹è¯•æˆåŠŸæ ‡å¿—

- âœ… æå–æŒ‰é’®æ˜¾ç¤º
- âœ… æ˜¾ç¤ºæ­£ç¡®çš„æŒä»“å’Œå¯æå–é‡‘é¢
- âœ… äº¤æ˜“æˆåŠŸç¡®è®¤
- âœ… USDC ä½™é¢å¢åŠ 
- âœ… æå–åæŒ‰é’®çŠ¶æ€æ›´æ–°

---

## ğŸ› å¸¸è§é—®é¢˜

**Q: æå–æŒ‰é’®ä¸æ˜¾ç¤ºï¼Ÿ**
A: æ£€æŸ¥å¸‚åœºæ˜¯å¦å·²è§£æï¼Œæ˜¯å¦æœ‰ condition_id

**Q: æ˜¾ç¤º"æ— å¯èµå›ä½™é¢"ï¼Ÿ**
A: æ£€æŸ¥ç”¨æˆ·æ˜¯å¦æœ‰æŒä»“ï¼ˆéœ€è¦å…ˆä¹°å…¥ YES/NOï¼‰

**Q: æå–å¤±è´¥ï¼Ÿ**
A: æ£€æŸ¥ Gas æ˜¯å¦å……è¶³ï¼Œç½‘ç»œæ˜¯å¦æ­£å¸¸

---

è¯¦ç»†æµ‹è¯•æŒ‡å—è¯·æŸ¥çœ‹ï¼š[CTFèµ„é‡‘æ‰˜ç®¡æµ‹è¯•æŒ‡å—.md](./CTFèµ„é‡‘æ‰˜ç®¡æµ‹è¯•æŒ‡å—.md)




