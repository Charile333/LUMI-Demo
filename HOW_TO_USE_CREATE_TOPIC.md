# 🚀 话题创建功能使用指南

## 快速开始

### 1. 设置数据库表

运行以下命令创建所需的数据库表：

```bash
npm run db:setup-topics
```

或直接使用 psql：

```bash
psql $DATABASE_URL -f scripts/create-topics-tables.sql
```

### 2. 启动开发服务器

```bash
npm run dev
```

### 3. 使用功能

打开浏览器访问任意页面，你会在**右下角**看到一个悬浮按钮（create.png 图标）

#### 创建话题
1. 点击悬浮按钮
2. 输入话题标题（必填）
3. 输入话题描述（可选）
4. 点击"🚀 提交话题"

#### 查看和投票
1. 在弹窗中点击"查看所有话题"
2. 浏览话题列表（按投票数排序）
3. 点击"👍 投票"按钮为感兴趣的话题投票

## 关于"感兴趣"按钮

您之前问的"感兴趣"按钮在 **MarketCard（市场卡片）** 上：

- **位置**：市场卡片的操作按钮区域（交易按钮下方）
- **显示条件**：只在未激活的市场上显示（`blockchain_status === 'not_created'`）
- **功能**：用户点击后可标记对该市场感兴趣，帮助市场快速激活

**如果看不到"感兴趣"按钮，可能是因为：**
- 市场已经激活（已在区块链上创建）
- 市场状态不是 `not_created`

要看到"感兴趣"按钮，请查看状态为"未激活"或"待激活"的市场卡片。

## 功能特点

### 悬浮按钮
- ✨ 固定在右下角，不遮挡内容
- 🎯 Hover 时有旋转动画
- 📱 移动端友好

### 弹窗
- 🎨 深色主题，视觉舒适
- 📝 表单验证，防止无效提交
- 🔄 实时切换创建和列表视图

### 投票系统
- 🔒 每人每话题只能投一次
- 📊 实时更新投票数
- 🏆 按热度排序

## 文件结构

```
LUMI/
├── components/
│   └── CreateTopicButton.tsx         ← 核心组件
├── app/
│   ├── client-layout.tsx             ← 已添加悬浮按钮
│   └── api/topics/                   ← API 路由
├── scripts/
│   └── create-topics-tables.sql      ← 数据库表
└── public/image/
    └── create.png                    ← 按钮图标
```

## 测试

访问以下页面测试功能：
- http://localhost:3000/automotive
- http://localhost:3000/markets
- http://localhost:3000/LUMI

悬浮按钮会在所有页面上显示。

## 截图示例

### 悬浮按钮
- 位置：页面右下角
- 图标：create.png（黄色加号）
- 动画：Hover 时放大旋转

### 创建话题弹窗
- 标题输入框（必填）
- 描述文本区域（可选）
- 提交按钮
- 切换到列表按钮

### 话题列表
- 话题标题和描述
- 当前投票数
- 投票按钮
- 创建日期

## 下一步

如果一切正常，你可以：
1. 自定义悬浮按钮的样式和位置
2. 添加用户认证（绑定钱包地址）
3. 实现话题转市场功能
4. 添加话题讨论功能

## 需要帮助？

如果遇到问题：
1. 检查数据库是否已创建表
2. 查看浏览器控制台错误
3. 检查 API 路由是否正常
4. 确认图片文件 `create.png` 存在

---

**享受创建话题的乐趣！** 🎉

