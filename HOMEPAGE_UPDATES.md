# 首页更新说明 🎨

## 📋 更新概览

本次更新为 LUMI 首页添加了交互式时间轴和黑天鹅终端风格的实时警报展示。

---

## ✨ 主要更新

### 1️⃣ **交互式时间轴导航**

#### 更新内容：
时间轴上的每个节点现在都可以点击和交互：

```
2025-Q4              2026-Q1              2026-Q2           2026-Q3
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
  ✅ 可点击            ✅ 可点击            🔒 即将推出       🔒 即将推出
黑天鹅预测          彩票博彩平台        市场趋势预测      大模型量化
预测市场            一站式链上博彩        
```

#### 交互效果：

**1. 2025-Q4 - 黑天鹅预测**
- ✅ **可点击**
- 🔗 **跳转**: `/black-swan`
- 🎨 **Hover 效果**:
  - 圆点变绿色
  - 文字高亮
  - 轻微放大 (scale: 1.05)

**2. 2026-Q1 - 彩票博彩平台**
- ✅ **可点击**
- 🔗 **跳转**: `/blockchain-gambling.html`
- 🎨 **Hover 效果**:
  - 圆点变绿色
  - 文字高亮
  - 轻微放大

**3. 2026-Q2 - 市场趋势预测**
- 🔒 **即将推出**
- 🎨 **视觉效果**:
  - 半透明 (opacity: 60%)
  - 灰色主题
  - "Coming Soon" 标签
  - 不可点击 (cursor: not-allowed)

**4. 2026-Q3 - 大模型量化**
- 🔒 **即将推出**
- 🎨 **视觉效果**:
  - 半透明 (opacity: 60%)
  - 灰色主题
  - "Coming Soon" 标签
  - 不可点击

---

### 2️⃣ **黑天鹅终端风格警报展示**

#### 更新内容：
首页右侧的 `crypto-alert@terminal` 现在采用完整的黑天鹅终端设计。

#### 新增功能：

**1. 实时 WebSocket 连接**
```typescript
// 自动连接到警报系统
ws://localhost:3000/ws/alerts (本地)
// 生产环境自动跳过
```

**2. 终端风格 UI**
```
┌────────────────────────────────────┐
│ ═══ LIVE ALERT STREAM ═══  🟢 MONITORING │
├────────────────────────────────────┤
│ [10:30:45] 🔴 CRIT BTC/USDT -5.00% │
│ Price dropped 5% in last minute!   │
│                                    │
│ [10:25:12] 🟡 MED  ETH/USDT +1.20% │
│ ...                                │
├────────────────────────────────────┤
│ ╔═ STATS ═╗   ╔═ SYSTEM ═╗        │
│ Recent: 5     WS: ✓ ONLINE         │
│ Critical: 2   Monitor: ✓ ACTIVE    │
│ Total: 24     Assets: 3            │
└────────────────────────────────────┘
```

**3. 数据展示**
- ✅ 时间戳 `[HH:MM:SS]`
- ✅ 严重程度 (CRIT/HIGH/MED)
- ✅ 资产名称 (BTC/USDT, ETH/USDT)
- ✅ 价格变化 (+/-X.XX%)
- ✅ 警报消息
- ✅ 统计信息
- ✅ 系统状态

**4. 颜色编码**
- 🔴 **CRITICAL** - 红色 (变化 > 5%)
- 🟠 **HIGH** - 橙色 (变化 2-5%)
- 🟡 **MEDIUM** - 黄色 (变化 1-2%)

**5. 快速跳转**
```
→ Open Full Terminal ←
点击跳转到完整的黑天鹅终端页面
```

---

### 3️⃣ **Vercel 部署优化**

#### API 调用修复：
```typescript
// ❌ 修复前
fetch('http://localhost:3000/api/alerts')

// ✅ 修复后
fetch('/api/alerts')
```

#### WebSocket 环境检测：
```typescript
// 生产环境自动跳过 WebSocket
const isProduction = process.env.NODE_ENV === 'production';
if (isProduction) {
  // 使用历史数据代替实时连接
}
```

---

## 🎨 视觉设计

### 时间轴 Hover 效果
```css
/* 可点击节点 */
.group:hover {
  transform: scale(1.05);
  transition: all 0.3s;
}

.group:hover .dot {
  background: #22c55e;  /* 绿色 */
  border-color: #22c55e;
}

.group:hover .text {
  color: #22c55e;  /* 文字变绿 */
}

/* 即将推出节点 */
.coming-soon {
  opacity: 0.6;
  cursor: not-allowed;
}
```

### 终端滚动条样式
```css
/* 绿色终端滚动条 */
::-webkit-scrollbar {
  width: 8px;
  background: #000;
  border: 1px solid #1a4d2e;
}

::-webkit-scrollbar-thumb {
  background: #0f5132;
  border: 1px solid #00ff00;
}
```

---

## 📊 数据流

### 本地开发环境
```
用户访问首页
    ↓
WebSocket 连接 ws://localhost:3000/ws/alerts
    ↓
实时接收警报数据
    ↓
显示在终端中（最多10条）
```

### Vercel 生产环境
```
用户访问首页
    ↓
检测到生产环境，跳过 WebSocket
    ↓
从 API 获取历史数据 (/api/alerts)
    ↓
显示最近5条警报
```

---

## 🔗 导航路径

### 时间轴导航
| 节点 | 链接 | 状态 |
|------|------|------|
| 2025-Q4 | `/black-swan` | ✅ 已上线 |
| 2026-Q1 | `/blockchain-gambling.html` | ✅ 已上线 |
| 2026-Q2 | - | 🔒 即将推出 |
| 2026-Q3 | - | 🔒 即将推出 |

### 快速跳转
```
首页终端 → [Open Full Terminal] → /black-swan
```

---

## 🚀 功能特性

### ✅ 已实现
- [x] 交互式时间轴
- [x] 悬停动画效果
- [x] 实时 WebSocket 连接（本地）
- [x] 终端风格 UI
- [x] 历史数据展示
- [x] 统计信息面板
- [x] 系统状态显示
- [x] Vercel 部署兼容
- [x] 响应式设计
- [x] 绿色终端滚动条

### 🔄 计划中
- [ ] WebSocket 服务端推送（Vercel）
- [ ] 实时价格图表
- [ ] 警报过滤器
- [ ] 警报声音提醒
- [ ] 自定义警报阈值

---

## 📱 响应式设计

### 桌面端 (>1024px)
- 时间轴水平排列
- 终端全宽显示
- 完整的数据展示

### 平板端 (768px - 1024px)
- 时间轴保持水平
- 终端宽度自适应
- 文字大小调整

### 移动端 (<768px)
- 时间轴垂直堆叠
- 终端占满屏宽
- 简化数据展示

---

## 🧪 测试

### 本地测试
```bash
cd LUMI
npm run dev

# 访问 http://localhost:3000
# 1. 点击时间轴节点
# 2. 查看终端数据
# 3. 测试 hover 效果
```

### 生产测试
```bash
npm run build
npm start

# 访问 http://localhost:3000
# 确认生产环境行为
```

---

## 🎯 用户体验提升

### 交互性
- ✨ 可点击的时间轴节点
- ✨ 平滑的悬停动画
- ✨ 清晰的视觉反馈
- ✨ 直观的导航路径

### 信息展示
- 📊 实时警报数据
- 📊 系统统计信息
- 📊 资产监控状态
- 📊 历史事件访问

### 视觉设计
- 🎨 一致的终端风格
- 🎨 专业的黑白主题
- 🎨 绿色高亮强调
- 🎨 清晰的层次结构

---

## 📋 技术栈

### 前端
- **框架**: Next.js 14
- **语言**: TypeScript
- **样式**: Tailwind CSS
- **字体**: Inter, Courier New (Mono)

### 实时通信
- **协议**: WebSocket
- **库**: 原生 WebSocket API
- **环境检测**: 自动适配本地/生产

### 部署
- **平台**: Vercel
- **优化**: 静态生成 + 动态 API
- **CDN**: 全球边缘网络

---

## 🎉 总结

### 本次更新带来：
1. ✅ **更强的交互性** - 可点击的时间轴
2. ✅ **更好的视觉** - 终端风格统一
3. ✅ **更快的导航** - 一键跳转
4. ✅ **更多的信息** - 实时数据展示
5. ✅ **更好的兼容** - Vercel 部署优化

### 用户可以：
- 🖱️ 点击时间轴快速导航
- 📊 查看实时市场警报
- 🎯 访问黑天鹅预测系统
- 🎰 体验彩票博彩平台
- 📈 了解未来产品路线图

---

**版本**: 2.0.0  
**更新日期**: 2025-10-25  
**状态**: ✅ 完成并已部署




