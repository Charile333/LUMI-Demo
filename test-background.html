<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>动态背景测试</title>
    <link rel="stylesheet" href="/dynamic-bg.css">
    <style>
        body {
            margin: 0;
            padding: 0;
            overflow: hidden;
        }
        .test-info {
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 1000;
            background: rgba(255, 255, 255, 0.9);
            padding: 20px;
            border-radius: 10px;
            font-family: monospace;
            max-width: 400px;
        }
        .test-info h2 {
            margin: 0 0 10px 0;
            color: #333;
        }
        .test-info p {
            margin: 5px 0;
            color: #666;
        }
        .status {
            display: inline-block;
            padding: 2px 8px;
            border-radius: 3px;
            font-weight: bold;
        }
        .status.success {
            background: #4ade80;
            color: white;
        }
        .status.error {
            background: #f87171;
            color: white;
        }
    </style>
</head>
<body>
    <!-- 动态背景容器 -->
    <div class="wrap" id="bgWrap"></div>

    <!-- 测试信息面板 -->
    <div class="test-info">
        <h2>🎨 动态背景测试</h2>
        <p>三角形数量: <span id="triCount" class="status">检测中...</span></p>
        <p>背景容器: <span id="wrapStatus" class="status">检测中...</span></p>
        <p>CSS 加载: <span id="cssStatus" class="status">检测中...</span></p>
        <hr>
        <p style="font-size: 12px; margin-top: 10px;">
            ✅ 如果你看到黑色背景和飞舞的白色三角形，说明动态背景正常工作！
        </p>
        <p style="font-size: 12px; color: #999;">
            💡 按 F12 打开开发者工具查看更多信息
        </p>
    </div>

    <script>
        // 生成 200 个三角形
        const wrap = document.getElementById('bgWrap');
        const count = 200;
        
        for (let i = 0; i < count; i++) {
            const tri = document.createElement('div');
            tri.className = 'tri';
            wrap.appendChild(tri);
        }

        // 检测状态
        setTimeout(() => {
            // 检查三角形数量
            const tris = document.querySelectorAll('.tri');
            const triCountEl = document.getElementById('triCount');
            if (tris.length === 200) {
                triCountEl.textContent = `${tris.length} ✅`;
                triCountEl.className = 'status success';
            } else {
                triCountEl.textContent = `${tris.length} ❌`;
                triCountEl.className = 'status error';
            }

            // 检查背景容器
            const wrapEl = document.querySelector('.wrap');
            const wrapStatusEl = document.getElementById('wrapStatus');
            if (wrapEl) {
                const styles = window.getComputedStyle(wrapEl);
                if (styles.position === 'fixed' && styles.zIndex === '0') {
                    wrapStatusEl.textContent = '正常 ✅';
                    wrapStatusEl.className = 'status success';
                } else {
                    wrapStatusEl.textContent = '样式异常 ⚠️';
                    wrapStatusEl.className = 'status error';
                }
            } else {
                wrapStatusEl.textContent = '未找到 ❌';
                wrapStatusEl.className = 'status error';
            }

            // 检查 CSS 加载
            const cssStatusEl = document.getElementById('cssStatus');
            const bodyStyles = window.getComputedStyle(document.body);
            const bgColor = bodyStyles.backgroundColor;
            
            if (bgColor.includes('0, 0, 0') || bgColor === 'rgb(0, 0, 0)' || bgColor === 'black') {
                cssStatusEl.textContent = '已加载 ✅';
                cssStatusEl.className = 'status success';
                console.log('✅ CSS 已正确加载，背景色:', bgColor);
            } else {
                cssStatusEl.textContent = '未加载 ❌';
                cssStatusEl.className = 'status error';
                console.warn('⚠️ CSS 可能未正确加载，背景色:', bgColor);
            }

            // 输出调试信息
            console.log('=== 动态背景调试信息 ===');
            console.log('三角形数量:', tris.length);
            console.log('背景容器:', wrapEl);
            console.log('Body 背景色:', bgColor);
            console.log('========================');
        }, 500);
    </script>
</body>
</html>

