<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åŠ¨æ€èƒŒæ™¯æµ‹è¯•</title>
    <link rel="stylesheet" href="/dynamic-bg.css">
    <style>
        body {
            margin: 0;
            padding: 0;
            overflow: hidden;
        }
        .test-info {
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 1000;
            background: rgba(255, 255, 255, 0.9);
            padding: 20px;
            border-radius: 10px;
            font-family: monospace;
            max-width: 400px;
        }
        .test-info h2 {
            margin: 0 0 10px 0;
            color: #333;
        }
        .test-info p {
            margin: 5px 0;
            color: #666;
        }
        .status {
            display: inline-block;
            padding: 2px 8px;
            border-radius: 3px;
            font-weight: bold;
        }
        .status.success {
            background: #4ade80;
            color: white;
        }
        .status.error {
            background: #f87171;
            color: white;
        }
    </style>
</head>
<body>
    <!-- åŠ¨æ€èƒŒæ™¯å®¹å™¨ -->
    <div class="wrap" id="bgWrap"></div>

    <!-- æµ‹è¯•ä¿¡æ¯é¢æ¿ -->
    <div class="test-info">
        <h2>ğŸ¨ åŠ¨æ€èƒŒæ™¯æµ‹è¯•</h2>
        <p>ä¸‰è§’å½¢æ•°é‡: <span id="triCount" class="status">æ£€æµ‹ä¸­...</span></p>
        <p>èƒŒæ™¯å®¹å™¨: <span id="wrapStatus" class="status">æ£€æµ‹ä¸­...</span></p>
        <p>CSS åŠ è½½: <span id="cssStatus" class="status">æ£€æµ‹ä¸­...</span></p>
        <hr>
        <p style="font-size: 12px; margin-top: 10px;">
            âœ… å¦‚æœä½ çœ‹åˆ°é»‘è‰²èƒŒæ™¯å’Œé£èˆçš„ç™½è‰²ä¸‰è§’å½¢ï¼Œè¯´æ˜åŠ¨æ€èƒŒæ™¯æ­£å¸¸å·¥ä½œï¼
        </p>
        <p style="font-size: 12px; color: #999;">
            ğŸ’¡ æŒ‰ F12 æ‰“å¼€å¼€å‘è€…å·¥å…·æŸ¥çœ‹æ›´å¤šä¿¡æ¯
        </p>
    </div>

    <script>
        // ç”Ÿæˆ 200 ä¸ªä¸‰è§’å½¢
        const wrap = document.getElementById('bgWrap');
        const count = 200;
        
        for (let i = 0; i < count; i++) {
            const tri = document.createElement('div');
            tri.className = 'tri';
            wrap.appendChild(tri);
        }

        // æ£€æµ‹çŠ¶æ€
        setTimeout(() => {
            // æ£€æŸ¥ä¸‰è§’å½¢æ•°é‡
            const tris = document.querySelectorAll('.tri');
            const triCountEl = document.getElementById('triCount');
            if (tris.length === 200) {
                triCountEl.textContent = `${tris.length} âœ…`;
                triCountEl.className = 'status success';
            } else {
                triCountEl.textContent = `${tris.length} âŒ`;
                triCountEl.className = 'status error';
            }

            // æ£€æŸ¥èƒŒæ™¯å®¹å™¨
            const wrapEl = document.querySelector('.wrap');
            const wrapStatusEl = document.getElementById('wrapStatus');
            if (wrapEl) {
                const styles = window.getComputedStyle(wrapEl);
                if (styles.position === 'fixed' && styles.zIndex === '0') {
                    wrapStatusEl.textContent = 'æ­£å¸¸ âœ…';
                    wrapStatusEl.className = 'status success';
                } else {
                    wrapStatusEl.textContent = 'æ ·å¼å¼‚å¸¸ âš ï¸';
                    wrapStatusEl.className = 'status error';
                }
            } else {
                wrapStatusEl.textContent = 'æœªæ‰¾åˆ° âŒ';
                wrapStatusEl.className = 'status error';
            }

            // æ£€æŸ¥ CSS åŠ è½½
            const cssStatusEl = document.getElementById('cssStatus');
            const bodyStyles = window.getComputedStyle(document.body);
            const bgColor = bodyStyles.backgroundColor;
            
            if (bgColor.includes('0, 0, 0') || bgColor === 'rgb(0, 0, 0)' || bgColor === 'black') {
                cssStatusEl.textContent = 'å·²åŠ è½½ âœ…';
                cssStatusEl.className = 'status success';
                console.log('âœ… CSS å·²æ­£ç¡®åŠ è½½ï¼ŒèƒŒæ™¯è‰²:', bgColor);
            } else {
                cssStatusEl.textContent = 'æœªåŠ è½½ âŒ';
                cssStatusEl.className = 'status error';
                console.warn('âš ï¸ CSS å¯èƒ½æœªæ­£ç¡®åŠ è½½ï¼ŒèƒŒæ™¯è‰²:', bgColor);
            }

            // è¾“å‡ºè°ƒè¯•ä¿¡æ¯
            console.log('=== åŠ¨æ€èƒŒæ™¯è°ƒè¯•ä¿¡æ¯ ===');
            console.log('ä¸‰è§’å½¢æ•°é‡:', tris.length);
            console.log('èƒŒæ™¯å®¹å™¨:', wrapEl);
            console.log('Body èƒŒæ™¯è‰²:', bgColor);
            console.log('========================');
        }, 500);
    </script>
</body>
</html>

