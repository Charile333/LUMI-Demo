# 🎯 测试指南 - 批量创建市场

## ✅ 系统状态

- 路由冲突已修复 ✅
- 服务器正在启动 ⏳
- 文档已清理完成 ✅

---

## 🚀 测试步骤（3 步）

### 第 1 步：等待服务器启动

**查看终端窗口**，等待看到：

```
✓ Compiled successfully
- Local: http://localhost:3000
```

或者

```
🚀 服务器已启动
📍 地址: http://localhost:3000
```

⏰ **大约需要 15-30 秒**

---

### 第 2 步：访问管理后台

在浏览器打开：

```
http://localhost:3000/admin/create-market
```

**应该看到**：
- 渐变色背景
- "创建市场（数据库）" 标题
- 绿色提示框："市场将保存到数据库，完全免费"
- 表单（标题、描述、分类等）

---

### 第 3 步：填写并提交

**填写表单**（示例）：

```
市场标题: 特斯拉 2025 Q1 交付量会超过 50 万吗？

市场描述: 预测特斯拉 2025 年第一季度全球交付量

主分类: automotive（🚗 汽车与新能源）

子分类: 新能源

优先级: ⭐ 推荐

预言机奖励: 10
```

**点击**："✨ 创建市场（免费、即时）"

---

## ✅ 成功标志

如果看到弹窗提示：

```
✅ 市场创建成功（数据库）
状态：草稿
成本：$0
将在活跃后自动上链
```

**恭喜！功能一测试通过！** 🎉

---

## ⚠️ 如果遇到问题

### 问题 1：页面打不开（404）

**解决**：
- 等待服务器完全启动（可能需要 30 秒）
- 检查终端是否有错误
- 刷新浏览器

### 问题 2：提交后报错 "数据库连接失败"

**解决**：
- 检查 `.env.local` 中的数据库配置
- 确保 Supabase 项目已创建
- 确保数据库表已创建（运行 `scripts/supabase-step2-tables.sql`）

### 问题 3：提交后没反应

**解决**：
- 打开浏览器开发者工具（F12）
- 查看 Console 和 Network 标签
- 看是否有错误信息

---

## 📊 验证数据

### 方法 1：Supabase Dashboard

1. 访问 https://supabase.com
2. 进入你的项目
3. 点击 Table Editor
4. 选择 `markets` 表
5. 应该看到新创建的市场记录

### 方法 2：浏览器开发者工具

1. 按 F12 打开开发者工具
2. 点击 Network 标签
3. 提交表单
4. 查看 `/api/admin/markets/create` 请求
5. 查看响应内容

---

## 🎯 下一步

测试通过后：

1. **继续创建更多市场**
   - 尝试不同分类
   - 尝试不同优先级
   
2. **测试批量创建 API**
   - 使用 Postman 或 curl
   - 或运行 `node scripts/test-market-creation.js`

3. **测试功能二：活跃度评分**
   - 参考：`TEST_GUIDE_STEP_BY_STEP.md`

---

## 💡 提示

- 创建市场完全**免费**，不需要连接钱包
- 创建速度**极快**（< 100ms）
- 创建的市场会保存在**数据库**中
- **不会立即上链**（节省成本）
- 活跃度高时会**自动激活**

---

**准备开始测试？等服务器启动完成后，访问管理后台吧！** 🚀

http://localhost:3000/admin/create-market



