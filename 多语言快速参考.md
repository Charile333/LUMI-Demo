# 🌐 多语言快速参考卡

## 🎯 核心功能

- **默认语言**: 英文 (EN)
- **支持语言**: 英文 (EN) / 中文 (ZH)
- **持久化**: 自动保存用户选择到 localStorage
- **位置**: 导航栏右上角

---

## ⚡ 快速使用

### 在组件中使用翻译

```tsx
'use client';
import { useTranslation } from '@/hooks/useTranslation';

export default function MyComponent() {
  const { t, i18n } = useTranslation();
  
  return (
    <div>
      <h1>{t('blackSwan.title')}</h1>
      <button onClick={() => i18n.changeLanguage('zh')}>
        切换到中文
      </button>
    </div>
  );
}
```

---

## 📁 文件位置

| 文件 | 用途 |
|------|------|
| `locales/en.json` | 英文翻译 |
| `locales/zh.json` | 中文翻译 |
| `lib/i18n.ts` | i18n配置 |
| `hooks/useTranslation.ts` | 翻译Hook |
| `components/LanguageSwitcher.tsx` | 语言切换器 |

---

## 🔑 常用翻译键

### 通用
```
common.loading
common.error
common.success
common.confirm
common.cancel
```

### 导航
```
nav.markets
nav.trending
nav.breaking
nav.blackSwan
nav.backToMarkets
```

### 市场
```
market.buy
market.sell
market.price
market.volume
market.yes
market.no
```

### 黑天鹅
```
blackSwan.title
blackSwan.subtitle
blackSwan.monitoring
blackSwan.historicalEvents
blackSwan.filterByDate
blackSwan.allDates
```

---

## 🛠️ 添加新翻译

### 1. 在 JSON 文件中添加

**locales/en.json:**
```json
{
  "myFeature": {
    "title": "My Feature",
    "description": "Feature description"
  }
}
```

**locales/zh.json:**
```json
{
  "myFeature": {
    "title": "我的功能",
    "description": "功能描述"
  }
}
```

### 2. 在组件中使用

```tsx
<h1>{t('myFeature.title')}</h1>
<p>{t('myFeature.description')}</p>
```

---

## 🎨 语言切换器

位置：导航栏 > 余额显示之后，钱包连接之前

特性：
- 🌍 图标 + 当前语言代码
- 📋 下拉菜单选择
- ✅ 高亮当前选中语言
- 💾 自动保存选择
- 🎯 点击外部关闭

---

## 🔍 调试命令

### 查看当前语言
```tsx
console.log(i18n.language); // 'en' 或 'zh'
```

### 手动切换语言
```tsx
i18n.changeLanguage('en');  // 切换到英文
i18n.changeLanguage('zh');  // 切换到中文
```

### 查看所有翻译
```tsx
console.log(i18n.store.data);
```

---

## ⚠️ 注意事项

1. **只在 'use client' 组件中使用**
2. **同时更新 en.json 和 zh.json**
3. **使用嵌套结构组织翻译键**
4. **避免硬编码文本**

---

## 📊 项目状态

| 项目 | 状态 |
|------|------|
| i18n库安装 | ✅ 完成 |
| 配置文件 | ✅ 完成 |
| 翻译文件 | ✅ 完成 |
| 语言切换器 | ✅ 完成 |
| 持久化存储 | ✅ 完成 |
| 导航栏集成 | ✅ 完成 |
| 黑天鹅页面 | 🟡 部分完成 |
| 其他页面 | ⏳ 待处理 |

---

## 🚀 测试步骤

1. 启动开发服务器
2. 打开浏览器，访问 http://localhost:3000
3. 点击导航栏右上角的语言切换器（EN 或 ZH）
4. 选择不同语言，观察页面文本变化
5. 刷新页面，确认语言选择被保存

---

## 💡 示例页面

黑天鹅页面 (`/black-swan`) 已部分实现多语言：
- 顶部导航标题
- 页面标题和副标题
- 历史事件区域标题
- 日期筛选器标签

参考这些示例为其他页面添加多语言支持。









