# ✅ 黑天鹅数据验证指南

## 🎯 快速验证

### 1️⃣ 命令行验证

运行验证脚本：
```bash
node scripts/check-oct-crash.js
```

**预期结果**：
```
✅ 找到 1 条BTC记录：

[2025-10-10 12:00:00] BTCUSDT
严重级别: critical
消息: BTC从约$122,000跌至$104,000，跌幅约15%。全球加密市场史上最大规模清算潮
详情: {"price_change":-0.1475,"current_price":104000,"previous_price":122000,...}
```

### 2️⃣ 网页验证

1. **启动服务器**：
```bash
npm run dev
```

2. **访问页面**：
```
http://localhost:3000/black-swan
```

3. **检查数据**：
   - 在左侧面板点击日期筛选器
   - 选择"2025-10-10"
   - 应该看到2个事件：BTC (-14.8%) 和 ETH (-20%)

### 3️⃣ API验证

访问API端点：
```
http://localhost:3000/api/alerts/real-crash-events
```

**预期JSON响应**（部分）：
```json
{
  "success": true,
  "data": [
    {
      "id": "crash-1",
      "date": "2025-10-10",
      "asset": "BTC/USDT",
      "crashPercentage": -14.75,
      "description": "BTC从约$122,000跌至$104,000，跌幅约15%。全球加密市场史上最大规模清算潮",
      "duration": "12 hours",
      "details": {
        "previous_price": 122000,
        "current_price": 104000,
        "price_change": -0.1475
      }
    },
    {
      "id": "crash-2",
      "date": "2025-10-10",
      "asset": "ETH/USDT",
      "crashPercentage": -20,
      "description": "ETH跌幅约20%，次主流币跌幅更大，随BTC暴跌触发杠杆清算",
      "duration": "12 hours"
    }
  ]
}
```

## 📊 正确的数据值

### BTC闪崩事件 (2025-10-10)
| 字段 | 值 |
|------|-----|
| 峰值价格 | $122,000 |
| 底部价格 | $104,000 |
| 跌幅 | -14.75% (约-15%) |
| 持续时间 | 12 hours |
| 杠杆清算 | 190亿美元 |
| 市值蒸发 | 3,700亿美元 |

### ETH闪崩事件 (2025-10-10)
| 字段 | 值 |
|------|-----|
| 跌幅 | -20% |
| 持续时间 | 12 hours |
| 触发因素 | BTC闪崩连锁反应 |

## ❌ 常见错误

如果看到以下数据，说明使用了旧版本的错误数据：

| 币种 | 错误值 | 正确值 |
|------|--------|--------|
| BTC跌幅 | -25% | -14.75% |
| BTC底价 | $86,000 | $104,000 |
| BTC峰价 | $115,000 | $122,000 |
| ETH跌幅 | -45% | -20% |

## 🔧 故障排除

### 问题1: 数据显示旧值

**解决方案**：
```bash
# 清理并重新导入
node scripts/import-historical-crashes.js
```

### 问题2: 数据库中有重复记录

**解决方案**：
```bash
# 1. 清理旧数据
sqlite3 database/alerts.db "DELETE FROM alerts WHERE date(timestamp) IN ('2025-10-10', '2025-10-11');"

# 2. 重新导入
node scripts/import-historical-crashes.js
```

### 问题3: API返回空数据

**检查**：
1. 确认数据库文件存在：`database/alerts.db`
2. 检查数据库权限
3. 重启开发服务器

## 📚 相关文档

- [黑天鹅数据更新日志](./黑天鹅数据更新日志.md) - 详细的更新记录
- [刷新黑天鹅数据指南](./刷新黑天鹅数据指南.md) - 数据刷新指南
- [历史闪崩事件列表](./历史闪崩事件列表.md) - 所有历史事件

## ✅ 验证完成清单

- [ ] 命令行验证通过 (check-oct-crash.js)
- [ ] 网页显示正确数据
- [ ] API返回正确JSON
- [ ] BTC价格: $122,000 → $104,000
- [ ] BTC跌幅: -14.75%
- [ ] ETH跌幅: -20%
- [ ] 持续时间: 12小时
- [ ] 清算金额: 190亿美元

---

**最后更新**: 2024年
**数据来源**: Reuters、IG、纳斯达克等权威报道
**状态**: ✅ 数据已验证正确

